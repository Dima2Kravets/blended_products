import{D as O,a as m,i as v}from"./vendor-B1JxXYlG.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=o(s);fetch(s.href,a)}})();const I={bottom:"24px",right:"unset",left:"32px",time:"0.5s",mixColor:"#e0e0e0",backgroundColor:"#ffffff",buttonColorDark:"#2e2e2e",buttonColorLight:"#ffffff",saveInCookies:!0,label:"ðŸŒ™",autoMatchOsTheme:!0},M=new O(I);M.showWidget();document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".darkmode-toggle");t.addEventListener("click",()=>{setTimeout(()=>{const e=document.body.classList.contains("darkmode--activated");t.textContent=e?"ðŸŒž":"ðŸŒ™"},300)})});const T=document.querySelector(".categories"),p=document.querySelector(".products"),h=document.querySelector(".not-found"),P=document.querySelector(".modal-product"),x=document.querySelector(".modal"),G=document.querySelector(".search-form"),j=document.querySelector(".search-form__input"),Q=document.querySelector(".search-form__btn-clear"),g=document.querySelector(".modal-product__btn--wishlist"),w=document.querySelector("[data-wishlist-count]"),f=document.querySelector(".modal-product__btn--cart"),C=document.querySelector("[data-cart-count]"),B=document.querySelector("[data-count]"),H=document.querySelector("[data-price]"),X=document.querySelector(".cart-summary__btn"),A=document.querySelector(".loader");async function J(){return(await m("https://dummyjson.com/products/category-list")).data}async function W(){return(await m("https://dummyjson.com/products")).data.total}async function R(t){return(await m(`https://dummyjson.com/products/category/${t}`)).data.total}async function E(t){return(await m(`https://dummyjson.com/products/search?q=${t}`)).data.total}async function b(t){return(await m(`https://dummyjson.com/products/${t}`)).data}function S(){j.value="",h.classList.remove("not-found--visible")}async function k(){const t=JSON.parse(localStorage.getItem("cart"))||[];try{const e=t.map(async c=>b(c)),r=(await Promise.all(e)).map(({price:c})=>c),s=r.reduce((c,i)=>c+i,0).toFixed(2),a=r.length;B.textContent=`${a}`,H.textContent=`$${s}`}catch(e){console.error(e)}}function y(){A.classList.add("hidden")}function _(){A.classList.remove("hidden")}async function Z(){try{const o=["All",...await J()].map(r=>`<li class="categories__item">
      <button class="categories__btn" type="button">${r}</button>
    </li>`).join("");T.innerHTML=o}catch(t){console.error(t)}}async function q(){try{$("#pagination-container").pagination({dataSource:async function(t){const e=await W();t(Array.from({length:e}))},pageSize:12,showPrevious:!0,showNext:!0,callback:async function(t,e){_();const o=(e.pageNumber-1)*12,r=await m(`https://dummyjson.com/products?limit=12&skip=${o}`);y();const a=r.data.products.map(({id:c,images:i,title:n,brand:l,category:d,price:u})=>`<li class="products__item" data-id="${c}">
        <img class="products__image" src="${i[0]}" alt="${n}"/>
        <p class="products__title">${n}</p>
        <p class="products__brand"><span class="products__brand--bold">Brand:</span> ${l}</p>
        <p class="products__category">Category: ${d}</p>
        <p class="products__price">Price: ${u}$</p>
      </li>`).join("");p.innerHTML=a}})}catch(t){console.error(t)}}async function D(t){try{$("#pagination-container").pagination({dataSource:async function(e){const o=await R(t);e(Array.from({length:o}))},pageSize:12,showPrevious:!0,showNext:!0,callback:async function(e,o){_();const r=(o.pageNumber-1)*12,s=await m(`https://dummyjson.com/products/category/${t}?limit=12&skip=${r}`);y();const a=s.data.products;if(a.length===0){p.innerHTML="",h.classList.add("not-found--visible");return}const c=a.map(({id:i,images:n,title:l,brand:d,category:u,price:L})=>`<li class="products__item" data-id="${i}">
    <img class="products__image" src="${n[0]}" alt="${l}"/>
    <p class="products__title">${l}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:</span> ${d}</p>
    <p class="products__category">Category: ${u} </p>
    <p class="products__price">Price: ${L}$</p>
 </li>`).join("");p.innerHTML=c}})}catch(e){console.error(e)}}async function z(t){try{P.innerHTML="";const e=await b(t),{images:o,description:r,title:s,shippingInformation:a,returnPolicy:c,price:i}=e,n=e.tags.map(d=>`<li><a href="">${d}</a></li>`).join(""),l=`<img class="modal-product__img" src="${o[0]}" alt="${r}" data-id="${t}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${s}</p>
        <ul class="modal-product__tags">${n}</ul>
        <p class="modal-product__description">${r}</p>
        <p class="modal-product__shipping-information">Shipping: ${a}</p>
        <p class="modal-product__return-policy">Return Policy: ${c}</p>
        <p class="modal-product__price">Price: ${i}$</p>
      </div>`;P.innerHTML=l}catch(e){console.error(e)}}async function K(t){try{$("#pagination-container").pagination({dataSource:async function(e){_();const o=await E(t);e(Array.from({length:o}))},pageSize:12,showPrevious:!0,showNext:!0,callback:async function(e,o){_();const r=(o.pageNumber-1)*12,s=await m(`https://dummyjson.com/products/search?q=${t}`);y();const a=s.data.products;if(a.length===0){p.innerHTML="",h.classList.add("not-found--visible");return}const c=a.map(({id:i,images:n,title:l,brand:d,category:u,price:L})=>`<li class="products__item" data-id="${i}">
    <img class="products__image" src="${n[0]}" alt="${l}"/>
    <p class="products__title">${l}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:</span> ${d}</p>
    <p class="products__category">Category: ${u} </p>
    <p class="products__price">Price: ${L}$</p>
 </li>`).join("");p.innerHTML=c}})}catch(e){console.error(e)}}async function F(){const t=JSON.parse(localStorage.getItem("wishlist"))||[];if(t.length===0){p.innerHTML="",h.classList.add("not-found--visible");return}$("#pagination-container").pagination({dataSource:t,pageSize:12,showPrevious:!0,showNext:!0,callback:async function(e,o){try{_();const r=e.map(c=>b(c)),s=await Promise.all(r);y();const a=s.map(({id:c,images:i,title:n,brand:l,category:d,price:u})=>`<li class="products__item" data-id="${c}">
              <img class="products__image" src="${i[0]}" alt="${n}"/>
              <p class="products__title">${n}</p>
              <p class="products__brand"><span class="products__brand--bold">Brand:</span> ${l}</p>
              <p class="products__category">Category: ${d}</p>
              <p class="products__price">Price: ${u}$</p>
            </li>`).join("");p.innerHTML=a}catch(r){console.error(r)}}})}async function N(){const t=JSON.parse(localStorage.getItem("cart"))||[];if(t.length===0){p.innerHTML="",h.classList.add("not-found--visible");return}$("#pagination-container").pagination({dataSource:t,pageSize:12,showPrevious:!0,showNext:!0,callback:async function(e,o){try{_();const r=e.map(c=>b(c)),s=await Promise.all(r);y();const a=s.map(({id:c,images:i,title:n,brand:l,category:d,price:u})=>`<li class="products__item" data-id="${c}">
              <img class="products__image" src="${i[0]}" alt="${n}"/>
              <p class="products__title">${n}</p>
              <p class="products__brand"><span class="products__brand--bold">Brand:</span> ${l}</p>
              <p class="products__category">Category: ${d}</p>
              <p class="products__price">Price: ${u}$</p>
            </li>`).join("");p.innerHTML=a}catch(r){console.error(r)}}})}function tt(t){if(S(),t.target.classList.contains("categories__btn--active"))return;document.querySelectorAll(".categories__btn").forEach(o=>o.classList.remove("categories__btn--active")),t.target.classList.add("categories__btn--active");const e=t.target.textContent.trim();t.target.textContent==="All"?q():D(e)}async function et(t){t.preventDefault(),h.classList.remove("not-found--visible"),document.querySelectorAll(".categories__btn").forEach(o=>o.classList.remove("categories__btn--active"));const e=t.target.elements.searchValue.value.trim().toLowerCase();if(console.dir(t.target.elements.searchValue.value),!e){v.warning({message:"Please enter a search term.",position:"topRight"});return}await K(e),form.reset()}async function ot(t){S(),document.querySelectorAll(".categories__btn").forEach(e=>e.classList.remove("categories__btn--active")),await q()}function U(t){const e="wishlist";let o=JSON.parse(localStorage.getItem(e))||[];const r=t.target.closest(".modal__content").children[1].children[0].dataset.id;g.textContent==="Remove from Wishlist"?(o=o.filter(s=>s!==r),localStorage.setItem(e,JSON.stringify(o)),g.textContent="Add to Wishlist",w.textContent=o.length):(o.push(r),localStorage.setItem(e,JSON.stringify(o)),w.textContent=o.length,g.textContent="Remove from Wishlist"),t.target.attributes.class.baseURI.includes("wishlist.html")&&F(),o.length>0&&S()}function V(t){const e="cart";let o=JSON.parse(localStorage.getItem(e))||[];console.log(o);const r=t.target.closest(".modal__content").children[1].children[0].dataset.id;console.log(t),f.textContent==="Remove from Cart"?(o=o.filter(s=>s!==r),localStorage.setItem(e,JSON.stringify(o)),f.textContent="Add to Cart",C.textContent=o.length):(o.push(r),localStorage.setItem(e,JSON.stringify(o)),C.textContent=o.length,f.textContent="Remove from Cart"),t.target.attributes.class.baseURI.includes("cart.html")&&(N(),k()),o.length>0&&S()}function st(){JSON.parse(localStorage.getItem("cart"))&&(localStorage.removeItem("cart"),C.textContent=0,N(),k(),v.success({title:"OK",message:"Successfully purchased products!",position:"topRight"}))}async function rt(t){g.textContent="Add to Wishlist",f.textContent="Add to Cart";const e=t.target.closest("li").dataset.id;await z(e),(JSON.parse(localStorage.getItem("wishlist"))||[]).find(s=>s===e)&&(g.textContent="Remove from Wishlist"),(JSON.parse(localStorage.getItem("cart"))||[]).find(s=>s===e)&&(f.textContent="Remove from Cart"),x.classList.add("modal--is-open")}function at(t){t.target.classList.contains("modal__close-btn")&&x.classList.remove("modal--is-open")}g.addEventListener("click",U);f.addEventListener("click",V);export{at as a,Z as b,C as c,q as d,T as e,G as f,tt as g,rt as h,et as i,Q as j,ot as k,N as l,x as m,k as n,X as o,p,st as q,F as r,w};
//# sourceMappingURL=modal-xm21UlgB.js.map
